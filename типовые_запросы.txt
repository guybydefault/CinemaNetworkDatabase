В ходе работы с описанием предметной области были выявлены потенциально самые распространенные запросы к проектируемой БД:

- Для вывода оценок за фильмы у пользователя и любимых жанров
SELECT * FROM Оценки JOIN Фильмы ON Фильмы.ид = Оценки.ид_фильма;
SELECT * FROM Оценки JOIN Фильмы_Жанры ON Фильмы_Жанры.ид_фильма = Оценки.ид_фильма;

- Для сравнения вкусов к фильмам у двух пользователей
SELECT Фильмы.название, Оценки.значение AS Оценка_1ого, t.значение AS Оценка_2ого 
FROM Оценки 
JOIN Фильмы ON Фильмы.ид = Оценки.ид_фильма 
JOIN Оценки AS t ON t.ид_фильма = Оценки.ид_фильма AND t.ид_пользователя != Оценки.ид_пользователя  
WHERE Оценки.ид_пользователя = ? AND t.ид_пользователя = ?;

- Для нахождения пароля определенного пользователя
SELECT Пароль FROM Пользователи WHERE логин = ?;

- Для вывода информации сеансах на фильмы, идущие в данный момент
SELECT * FROM Фильмы 
JOIN Сеансы 
WHERE Фильмы.ИД = Сеансы.ИД
 AND Фильмы.Дата_премьеры - CURR_DATE < ~ 2 НЕДЕЛИ 
 AND (Дата_время_начала < ? OR Дата_время_конца < ?);

- Для вывода информации о фильме: в частности о тех, кто в нем снимался и в какой должности (роли)
SELECT * FROM Фильмы 
JOIN Группы ON Фильмы_Группы.ид_фильма = Фильмы.ид 
JOIN Роли ON Роли.ид_группы = Фильмы_Группы.ид_группы 
JOIN Люди ON Роли.ид_человека = Люди.ид 
WHERE Фильмы.ид=?;

- Для вывода информации о конкретном сеансе и билетах
SELECT * FROM Сеансы 
JOIN Залы ON Сеансы.ид_зала = Залы.ид 
JOIN Места ON Места.ид_зала = Залы.ид 
LEFT JOIN Билеты ON Билеты.ид_сеанса = Сеансы.ид AND Билеты.ид_места = Места.ид
 WHERE Сеансы.ид = ?;

- Для вывода информации обо всех оценках пользователя
SELECT * FROM Оценки JOIN Фильмы ON Фильмы.ид = Оценки.ид_фильма Where Оценки.ид_пользователя = ?;


